<?xml version="1.0" encoding="utf-8" ?>
<mato:ContentPageBase xmlns="http://schemas.microsoft.com/dotnet/2021/maui"
                      xmlns:x="http://schemas.microsoft.com/winfx/2009/xaml"
                      xmlns:mato="clr-namespace:MatoProductivity;assembly=MatoProductivity"
                      xmlns:core="clr-namespace:MatoProductivity.Core.Views;assembly=MatoProductivity.Core"
                      x:Class="MatoProductivity.Views.EditNotePage"
                      Title="EditNotePage">
    <ContentPage.Resources>

        <core:NoteSegmentDataTemplateSelector x:Key="NoteSegmentDataTemplateSelector" />
    </ContentPage.Resources>
    <VerticalStackLayout>
        <Label Text="Welcome to .NET MAUI!"
               VerticalOptions="Center"
               HorizontalOptions="Center" />
        <CollectionView x:Name="collectionView"
                        ItemsSource="{Binding NoteSegments}"
                        SelectedItems="{Binding SelectedNoteSegments}"
                        SelectedItem="{Binding SelectedNoteSegment}"
                        SelectionMode="{Binding SelectionMode}"
                        ItemTemplate="{StaticResource NoteSegmentDataTemplateSelector}" />
        
        

        <Switch IsToggled="{Binding IsEditingNoteSegment}"></Switch>

        <Button Text="删除"
                IsVisible="{Binding IsEditingNoteSegment}"
                Command="{Binding Remove}"></Button>

        <Button Text="添加"
                Command="{Binding Create}"
                CommandParameter="DateTimeSegment"></Button>

        <Button Text="提交"
                Command="{Binding Submit}"></Button>
    </VerticalStackLayout>
</mato:ContentPageBase>